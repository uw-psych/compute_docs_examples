<!DOCTYPE html>
<html lang="en"><head>
<script src="pres_files/libs/clipboard/clipboard.min.js"></script>
<script src="pres_files/libs/quarto-html/tabby.min.js"></script>
<script src="pres_files/libs/quarto-html/popper.min.js"></script>
<script src="pres_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="pres_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="pres_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="pres_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="pres_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.5.22">

  <title>HPC Workshop (R)</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="pres_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="pres_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="pres_files/libs/revealjs/dist/theme/quarto.css">
  <link href="pres_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="pres_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="pres_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="pres_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    padding-bottom: 0.5rem;
    margin-bottom: 0;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">HPC Workshop (R)</h1>

<div class="quarto-title-authors">
</div>

</section>
<section id="hpc-workshop-r" class="slide level2">
<h2>HPC Workshop (R)</h2>
<p>Welcome to this workshop on High Performance Computing (HPC) using the University of Washington’s Hyak cluster. This workshop is designed to give you a basic understanding of how to use the cluster for your research using a practical example of running a computationally intensive bootstrap for data analysis.</p>
</section>
<section id="aims" class="slide level2">
<h2>Aims</h2>
<ul>
<li>Understand how HPC can accelerate your research</li>
<li>Learn how to log in to Hyak and navigate the file system</li>
<li>Learn how to submit jobs to the cluster and manage them</li>
<li>Wrap your analysis in an Apptainer container for reproducibility and portability</li>
<li>See how you can use array jobs to accelerate your analysis</li>
</ul>
</section>
<section id="more-resources" class="slide level2">
<h2>More resources</h2>
<ul>
<li><a href="https://uw-psych.github.io/compute_docs" class="uri">https://uw-psych.github.io/compute_docs</a></li>
<li><a href="https://hyak.uw.edu/docs" class="uri">https://hyak.uw.edu/docs</a></li>
<li><a href="https://www.hpc-carpentry.org" class="uri">https://www.hpc-carpentry.org</a></li>
</ul>
</section>
<section id="what-is-an-hpc-cluster" class="slide level2">
<h2>What is an HPC cluster?</h2>
<ul>
<li>A <strong>cluster</strong> is a group of computers that work together to solve problems</li>
<li>An <strong>HPC cluster</strong> is a cluster of computers that are optimized for running computations that require a lot of CPU power and memory</li>
<li>The <strong>Hyak</strong> cluster at the University of Washington has hundreds of computers that are connected together and can be used to run computations in parallel</li>
<li>More than 21,000 CPU cores and 1,000 GPUs</li>
</ul>
</section>
<section id="why-use-an-hpc-cluster" class="slide level2">
<h2>Why use an HPC cluster?</h2>
<p>Speed!</p>
<ul>
<li><strong>CPU power</strong>: Multiple high-performance CPUs per node (56 on <code>gpu-a40</code> nodes)</li>
<li><strong>Memory</strong>: Oodles of RAM (1 TB on <code>gpu-a40</code> nodes)</li>
<li><strong>GPU</strong>: Some nodes have GPUs, serious speed increases for certain types of computations (e.g., machine learning)</li>
<li><strong>Parallelism</strong>: Run computations in parallel across many different computers</li>
</ul>
</section>
<section id="prerequisites" class="slide level2">
<h2>Prerequisites</h2>
<p>Before you can log in to Hyak, you will need:</p>
<ul>
<li>A UW NetID</li>
<li>A SSH client (e.g.&nbsp;PuTTY, MobaXterm, or the terminal on Mac/Linux) on your laptop</li>
</ul>
<p>If you have not set up an SSH client, visit <a href="https://uw-psych.github.io/compute_docs/docs/start/connect-ssh.html" class="uri">https://uw-psych.github.io/compute_docs/docs/start/connect-ssh.html</a> for instructions.</p>
</section>
<section id="logging-in-to-hyak" class="slide level2">
<h2>Logging in to Hyak</h2>
<p>To log in to Hyak, open your SSH client and enter the following command:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href=""></a><span class="fu">ssh</span> your-uw-netid@klone.hyak.uw.edu</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Replace <code>your-uw-netid</code> with your UW NetID and enter your credentials when prompted.</p>
</section>
<section id="the-file-system" class="slide level2">
<h2>The file system</h2>
<p>The file system on Hyak is organized as a hierarchy:</p>
<ul>
<li><code>/</code> - the root directory
<ul>
<li><code>/mmfs1</code> - the main user file system for Hyak
<ul>
<li><code>/mmfs1/home</code> - the root of the home directory for all users
<ul>
<li><code>/mmfs1/home/your-uw-netid</code> - your home directory (only 10 GB!)</li>
</ul></li>
</ul></li>
<li><code>/gscratch</code> - data directory for Hyak users
<ul>
<li><code>/gscratch/scrubbed</code> - a directory for temporary files that are periodically deleted</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="your-home-directory" class="slide level2">
<h2>Your home directory (<code>~</code>)</h2>
<p>Once you have logged in, you will be in your <strong>home directory</strong> on the Hyak cluster.</p>
<ul>
<li>Home directory is <code>C:\Users\You</code> on Windows or <code>/Users/You</code> on Mac</li>
<li>Stored under <code>/mmfs1/home/your-uw-netid</code></li>
<li>Can use <code>~</code> for short in the command prompt</li>
</ul>
<div class="callout callout-caution callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Caution</strong></p>
</div>
<div class="callout-content">
<p>Your directory is limited to 10 GB. Do not store large files here! Use the <code>/gscratch</code> directory instead.</p>
</div>
</div>
</div>
</section>
<section id="listing-files" class="slide level2">
<h2>Listing files</h2>
<p>List the contents of your <code>~</code> by typing <code>ls</code> into the command prompt and pressing <code>Enter</code>:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a href=""></a><span class="fu">ls</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Move to another directory with <code>cd</code>, e.g.:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a href=""></a><span class="bu">cd</span> /gscratch <span class="co"># [C]hange [d]irectory to /gscratch</span></span>
<span id="cb3-2"><a href=""></a><span class="fu">ls</span> <span class="co"># List contents</span></span>
<span id="cb3-3"><a href=""></a><span class="bu">cd</span> ~ <span class="co"># Move back to home</span></span>
<span id="cb3-4"><a href=""></a><span class="bu">pwd</span> <span class="co"># Display current directory</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="the-shell" class="slide level2">
<h2>The shell</h2>
<ul>
<li><code>bash</code> is the command-line interface we have been using</li>
<li>Both an interpreter and a programming language
<ul>
<li>Use interactively to run commands</li>
<li>Write scripts to automate tasks</li>
</ul></li>
</ul>
</section>
<section id="bash" class="slide level2">
<h2>bash</h2>
<h3 id="comments">Comments</h3>
<p>In <code>bash</code>, anything after <code>#</code> is a comment (like Python, R).</p>
<h3 id="environment-variables">Environment variables</h3>
<p><strong>Environment variables</strong> help pass inputs to a script. Set environment variables with:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><a href=""></a><span class="co"># Make sure to use quotes and do not put spaces aside '=':</span></span>
<span id="cb4-2"><a href=""></a><span class="va">VARIABLE</span><span class="op">=</span><span class="st">"Something like this"</span> </span>
<span id="cb4-3"><a href=""></a><span class="co"># Print the value to the screen:</span></span>
<span id="cb4-4"><a href=""></a><span class="bu">echo</span> <span class="st">"</span><span class="va">$VARIABLE</span><span class="st">"</span> </span>
<span id="cb4-5"><a href=""></a><span class="co"># More precise syntax - helps avoid some wild issues:</span></span>
<span id="cb4-6"><a href=""></a><span class="bu">echo</span> <span class="st">"</span><span class="va">${VARIABLE}</span><span class="st">"</span> </span>
<span id="cb4-7"><a href=""></a> <span class="co"># Make VARIABLE available to subsequent external commands:</span></span>
<span id="cb4-8"><a href=""></a><span class="bu">export</span> <span class="va">VARIABLE</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="bash-history-and-completion" class="slide level2">
<h2>bash: History and Completion</h2>
<ul>
<li>Use <code>↑</code> and <code>↓</code> keys to recall the text of the commands you have run before</li>
<li>Use <code>Tab</code> to complete file names, commands etc.
<ul>
<li>e.g., <code>cd /gscr</code> + <code>Tab</code> → <code>cd /gscratch</code></li>
</ul></li>
</ul>
</section>
<section id="editing-files" class="slide level2">
<h2>Editing files</h2>
<p>Use a text editor to edit text files (scripts, etc.)</p>
<div class="columns">
<div class="column" style="width:40%;">
<ul>
<li><code>nano</code> is a good one if you’ve never tried one before</li>
</ul>
</div><div class="column" style="width:60%;">
<p><img data-src="nano.png"></p>
</div>
</div>
<aside class="notes">
<ul>
<li>To start <code>nano</code>, type in the command <code>nano</code>. You can then start typing text into the editor.</li>
<li>To save your work, press <code>Ctrl</code> + <code>O</code>, type in a file name, and press <code>Enter</code>.</li>
<li>To exit <code>nano</code>, press <code>Ctrl</code> + <code>X</code>.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="viewing-files" class="slide level2">
<h2>Viewing files</h2>
<p>Use:</p>
<ul>
<li><code>cat</code> to view short files</li>
<li>Use <code>more</code> to view long files
<ul>
<li>…or <code>less</code></li>
</ul></li>
</ul>
<div class="sourceCode" id="cb5"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><a href=""></a><span class="fu">cat</span> /etc/os-release <span class="co"># A short file</span></span>
<span id="cb5-2"><a href=""></a><span class="fu">more</span> /etc/slurm.conf <span class="co"># A long file</span></span>
<span id="cb5-3"><a href=""></a><span class="fu">less</span> /etc/slurm.conf <span class="co"># Another way for a long file</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="getting-help-with-commands" class="slide level2">
<h2>Getting help with commands</h2>
<ul>
<li><code>man</code> displays the manual page (“manpage”) for a command</li>
<li><code>man ls</code> - displays the manual page for the <code>ls</code> command.</li>
<li>“manpages” tend to be exhaustive and overwhelming!</li>
<li>Add <code>--help</code> to a command to get a shorter, more user-friendly help message for many commands</li>
</ul>
</section>
<section id="tldr-for-quick-command-reference" class="slide level2">
<h2><code>tldr</code> for quick command reference</h2>
<p><code>tldr</code>: A supplement to <code>man</code> pages providing practical examples:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><a href=""></a><span class="ex">pip3.9</span> install <span class="at">--user</span> tldr</span>
<span id="cb6-2"><a href=""></a><span class="ex">tldr</span> ls</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

<img data-src="tldr.png" class="r-stretch"></section>
<section id="ranger" class="slide level2">
<h2><code>ranger</code></h2>
<p><code>ranger</code> is an easy-to-use program to navigate the file system:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><a href=""></a><span class="ex">pip3.9</span> install <span class="at">--user</span> ranger-fm</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="columns">
<div class="column" style="width:30%;">
<ul>
<li>Navigate using arrow keys</li>
<li>Open files with <code>Enter</code></li>
<li>Exit with <code>q</code></li>
</ul>
</div><div class="column" style="width:70%;">
<p><img data-src="ranger-fm.png"></p>
</div>
</div>
</section>
<section id="slurm" class="slide level2">
<h2>SLURM</h2>
<ul>
<li>Jobs: programs/scripts you want to run + resources allocated for them</li>
<li>Jobs on Hyak are scheduled using the SLURM <strong>workload manager</strong></li>
<li>Specify the resources you need when submitting a job</li>
<li>Job runs when SLURM determines there are enough resources available</li>
<li>Submitting a job runs it on the cluster when the resources are available</li>
</ul>
<aside class="notes">
<p>Jobs are programs or scripts that you want to run on the cluster. You submit jobs to SLURM, and it schedules and runs them on the cluster when resources are available. Resource allocation depends on the amount of resources you request, the resources available on the cluster, and the resources available to the SLURM account you are using.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="login-compute-nodes" class="slide level2">
<h2>Login &amp; Compute Nodes</h2>
<ul>
<li>The <strong>login node</strong> is the computer you are connected to after running <code>SSH</code></li>
<li>Use the login node for submitting and managing jobs, minor tasks like editing a script or copying a handful of files</li>
<li>Do <strong>not</strong> use it to run your computations</li>
<li><strong>Compute nodes</strong> are where your jobs will run</li>
<li>The scheduler will allocate resources on the compute nodes to your jobs</li>
<li>Jobs can be run in parallel on multiple compute nodes</li>
</ul>
</section>
<section id="resource-availability" class="slide level2">
<h2>Resource availability</h2>
<p>The main resources you will be concerned with are:</p>
<ul>
<li><strong>CPUs</strong> - the number of CPU cores you can use</li>
<li><strong>Memory</strong> - the amount of RAM you can use</li>
<li><strong>GPUs</strong> - the number of GPUs you can use</li>
</ul>
</section>
<section id="hyakalloc" class="slide level2">
<h2>hyakalloc</h2>
<ul>
<li><code>hyakalloc</code> shows the resources available to you across all the nodes on the cluster</li>
</ul>
<div class="columns">
<div class="column" style="width:40%;">
<ul>
<li>A job made to run on a single node will have to wait for all the resources it needs to become available on a single node</li>
</ul>
</div><div class="column" style="width:60%;">
<p><img data-src="hyakalloc.png"></p>
</div>
</div>
</section>
<section id="the-queue" class="slide level2">
<h2>The queue</h2>
<ul>
<li>Jobs are submitted to a <strong>queue</strong> in SLURM</li>
<li>Use <code>squeue</code> to see the jobs in the queue that are running or waiting to run</li>
</ul>
<div class="sourceCode" id="cb8"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><a href=""></a><span class="ex">squeue</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Use <code>squeue --me</code> to see only your jobs in the queue</li>
</ul>
<div class="sourceCode" id="cb9"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><a href=""></a><span class="ex">squeue</span> <span class="at">--me</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="interactive-session" class="slide level2">
<h2>Interactive session</h2>
<ul>
<li>An <strong>interactive session</strong> is a way to get access to a compute node for a short period of time</li>
<li>Use an interactive session to test your code, run small jobs, or debug problems</li>
<li>Use the <code>salloc</code> command to start an interactive session</li>
</ul>
</section>
<section id="launching-an-interactive-session" class="slide level2">
<h2>Launching an interactive session</h2>
<p>To launch a job, you will need to specify the resources you need, the account to charge the resources to, and the partition – group of resources – to run the job on.</p>
<p>For a session using the <code>escience</code> account, the <code>gpu-a40</code> partition, 1 hour of time, 1G of memory, 1 CPU:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><a href=""></a><span class="ex">salloc</span> <span class="dt">\</span></span>
<span id="cb10-2"><a href=""></a>    <span class="at">--account</span> escience <span class="dt">\</span></span>
<span id="cb10-3"><a href=""></a>    <span class="at">--partition</span> gpu-a40 <span class="dt">\</span></span>
<span id="cb10-4"><a href=""></a>    <span class="at">--time</span><span class="op">=</span>1:00:00 <span class="dt">\</span></span>
<span id="cb10-5"><a href=""></a>    <span class="at">--mem</span><span class="op">=</span>1G <span class="dt">\</span></span>
<span id="cb10-6"><a href=""></a>    <span class="at">--cpus-per-task</span><span class="op">=</span>1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You may have to wait for resources to become available – use <code>squeue</code> to check the status of your request.</p>
</section>
<section id="running-commands-in-an-interactive-session" class="slide level2">
<h2>Running commands in an interactive session</h2>
<p>When your interactive session starts, you will be given a prompt on a compute node where you can run commands and test your code. For example, you can run the <code>hostname</code> command to see the name of the compute node you are on:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><a href=""></a><span class="fu">hostname</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Any commands you run in the interactive session will be run on the compute node you are on and will not affect the login node.</p>
</section>
<section id="apptainer" class="slide level2">
<h2>Apptainer</h2>
<ul>
<li>We need to use Apptainer (f.k.a. Singularity) to run R on Hyak</li>
<li>Apptainer is a tool for creating and running software containers (like Docker, Podman)</li>
<li>Containers help you package an application and its dependencies so that it can run consistently (and reproducibly) across different environments</li>
<li>An Apptainer container is like a lightweight, portable, and self-contained virtual machine – c.f., VirtualBox, VMware, Parallels, etc.</li>
</ul>
</section>
<section id="running-r-interactively" class="slide level2">
<h2>Running R interactively</h2>
<p>In the interactive session, we can download and run R as follows:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><a href=""></a><span class="co"># Create the directory to store your things if it isn't there:</span></span>
<span id="cb12-2"><a href=""></a><span class="fu">mkdir</span> <span class="at">-p</span> <span class="st">"/gscratch/scrubbed/</span><span class="va">$USER</span><span class="st">"</span></span>
<span id="cb12-3"><a href=""></a></span>
<span id="cb12-4"><a href=""></a><span class="co"># Go to the directory:</span></span>
<span id="cb12-5"><a href=""></a><span class="bu">cd</span> <span class="st">"</span><span class="va">$_</span><span class="st">"</span></span>
<span id="cb12-6"><a href=""></a></span>
<span id="cb12-7"><a href=""></a><span class="co"># Download the image to the file r-latest.sif:</span></span>
<span id="cb12-8"><a href=""></a><span class="ex">apptainer</span> pull <span class="at">--disable-cache</span> r-latest.sif docker://r-base:latest</span>
<span id="cb12-9"><a href=""></a></span>
<span id="cb12-10"><a href=""></a><span class="co"># Launch R:</span></span>
<span id="cb12-11"><a href=""></a><span class="ex">apptainer</span> exec <span class="at">--bind</span> /gscratch r-latest.sif R</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section>
<section id="exiting" class="title-slide slide level1 center">
<h1>Exiting</h1>
<ul>
<li>Exit R as normal</li>
<li>When you’re back in the shell, If you run <code>exit</code> or <code>Ctrl</code> + <code>D</code>, the interactive session will end</li>
</ul>
</section>
<section id="questions" class="slide level2">
<h2>Questions?</h2>
<p>Do you have any questions about what we’ve covered so far?</p>
</section>
<section id="running-an-example-analysis" class="slide level2">
<h2>Running an example analysis</h2>
<h3 id="practical-example">Practical example</h3>
<p><strong>Obtaining confidence intervals for a point estimate using the bootstrap</strong></p>
<ul>
<li>The bootstrap is a resampling method that can be used to estimate the sampling distribution of a statistic</li>
<li>Requires running the same analysis many times on different samples of the data</li>
<li>Can be extremely computationally intensive</li>
<li>Many opportunities for running these repeated computations in parallel</li>
</ul>
</section>
<section id="dataset" class="slide level2">
<h2>Dataset</h2>
<ul>
<li>Personality data from the SAPA project (“Synthetic Aperture Personality Assessment,” Revelle, W.) from <code>psychTools</code></li>
</ul>
<ul>
<li>2800 rows, 6 cols – each row an individual subject</li>
<li>1 demographic column (<code>gender</code>) with 2 genders coded</li>
<li>5 columns of scored personality scales:
<ul>
<li>Agreeableness (<code>agree</code>)</li>
<li>Conscientiousness (<code>conscientious</code>)</li>
<li>Extraversion (<code>extraversion</code>)</li>
<li>Neuroticism (<code>neuroticism</code>)</li>
<li>Openness (<code>openness</code>)</li>
</ul></li>
</ul>
</section>
<section id="goal" class="slide level2">
<h2>Goal</h2>
<div class="columns">
<div class="column" style="width:40%;">
<ul>
<li>Estimate the 95% confidence interval for Cohen’s <em>d</em> of the mean difference among two genders using the bootstrap</li>
</ul>
</div><div class="column" style="width:60%;">
<ul>
<li>For each category, resample the data with replacement</li>
<li>Calculate Cohen’s <em>d</em></li>
<li>Repeat this process many times (e.g., 10,000 times)</li>
<li>Use the distribution to estimate the 95% confidence interval using <code>boot</code></li>
</ul>
</div>
</div>
</section>
<section id="setup" class="slide level2">
<h2>Setup</h2>
<p>Create a new directory for the project under /gscratch/scrubbed/your-uw-netid:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode numberSource sh number-lines code-with-copy"><code class="sourceCode bash"><span id="cb13-1"><a href=""></a><span class="fu">mkdir</span> <span class="at">-p</span> <span class="st">"/gscratch/scrubbed/</span><span class="va">$USER</span><span class="st">"</span></span>
<span id="cb13-2"><a href=""></a><span class="bu">cd</span> <span class="st">"</span><span class="va">$_</span><span class="st">"</span> <span class="co"># Go to the new directory</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Download the project files from GitHub, navigate to the project directory, and list the contents:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb14-1"><a href=""></a><span class="fu">git</span> clone https://github.com/uw-psych/hpc-workshop</span>
<span id="cb14-2"><a href=""></a><span class="bu">cd</span> hpc-workshop</span>
<span id="cb14-3"><a href=""></a><span class="fu">ls</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="setup-cont." class="slide level2">
<h2>Setup (cont.)</h2>
<p>We will use a R script for our computations – <code>workshop-01/split-job.py</code>:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb15-1"><a href=""></a><span class="bu">cd</span> workshop-01-R</span>
<span id="cb15-2"><a href=""></a><span class="fu">ls</span> <span class="co"># List contents of directory</span></span>
<span id="cb15-3"><a href=""></a><span class="fu">nano</span> split-job.R <span class="co"># View the contents of the file</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="batch-jobs" class="slide level2">
<h2>Batch jobs</h2>
<ul>
<li>Can’t use an interactive session for this – need to submit a batch job</li>
<li><code>sbatch</code> command submits a batch job to SLURM</li>
<li>Commands to run the job are specified in a job script</li>
<li>Job script specifies the resources to request, the commands to run, and the environment variables to set</li>
<li><code>workshop-01-R/sbatch-r.job</code> contains our job script</li>
</ul>
</section>
<section id="the-job-script" class="slide level2">
<h2>The job script</h2>
<p>Have a look at the job script in <code>sbatch-r.job</code>. We will submit this to <code>sbatch</code>, which will schedule and launch our tasks.</p>
</section>
<section id="job-metadata-and-resources" class="slide level2">
<h2>Job metadata and resources</h2>
<p>The following defines metadata and resources to request to run the job. These parameters are defined with <code>#SBATCH</code>:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode numberSource sh number-lines code-with-copy"><code class="sourceCode bash"><span id="cb16-1"><a href=""></a><span class="co">#!/usr/bin/env bash</span></span>
<span id="cb16-2"><a href=""></a><span class="co">#SBATCH --output=job.log</span></span>
<span id="cb16-3"><a href=""></a><span class="co">#SBATCH --job-name=psych_bfi_boot</span></span>
<span id="cb16-4"><a href=""></a><span class="co">#SBATCH --nodes=5</span></span>
<span id="cb16-5"><a href=""></a><span class="co">#SBATCH --mem=8G</span></span>
<span id="cb16-6"><a href=""></a><span class="co">#SBATCH --time=1:00:00</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="environment-variables-1" class="slide level2">
<h2>Environment variables</h2>
<p>We use an <strong>environment variable</strong> to define where we want to store the Apptainer image file and how many iterations to run:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode numberSource sh number-lines code-with-copy"><code class="sourceCode bash"><span id="cb17-1"><a href=""></a><span class="co">#   The parameters to apptainer are specified by environment variables.</span></span>
<span id="cb17-2"><a href=""></a><span class="co">#   The commands below will use the default values specified below unless</span></span>
<span id="cb17-3"><a href=""></a><span class="co">#   these environment variables are already set. (this is what the :- means)</span></span>
<span id="cb17-4"><a href=""></a><span class="co">#       R_IMAGE:</span></span>
<span id="cb17-5"><a href=""></a><span class="co">#           The path to the apptainer image to use</span></span>
<span id="cb17-6"><a href=""></a><span class="va">R_IMAGE</span><span class="op">=</span><span class="st">"/gscratch/scrubbed/</span><span class="va">${USER}</span><span class="st">/r-latest.sif"</span></span>
<span id="cb17-7"><a href=""></a></span>
<span id="cb17-8"><a href=""></a><span class="co"># Create the base directory for the image:</span></span>
<span id="cb17-9"><a href=""></a><span class="fu">mkdir</span> <span class="at">-p</span> <span class="st">"</span><span class="va">$(</span><span class="fu">dirname</span> <span class="st">"R_IMAGE"</span><span class="va">)</span><span class="st">"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="environment-variables-cont." class="slide level2">
<h2>Environment variables (cont.)</h2>
<p>We use another <strong>environment variable</strong> to define how many iterations to run:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode numberSource sh number-lines code-with-copy"><code class="sourceCode bash"><span id="cb18-1"><a href=""></a><span class="co"># SCRIPT SETUP:</span></span>
<span id="cb18-2"><a href=""></a><span class="co"># The parameters to the R script cam be specified by environment variables.</span></span>
<span id="cb18-3"><a href=""></a><span class="co"># They must be exported so that they are visible to the R script.</span></span>
<span id="cb18-4"><a href=""></a><span class="co">#   The commands below will use the default values specified below unless</span></span>
<span id="cb18-5"><a href=""></a><span class="co">#   these environment variables are already set. (this is what the :- means)</span></span>
<span id="cb18-6"><a href=""></a><span class="co">#       BOOT_ITER:</span></span>
<span id="cb18-7"><a href=""></a><span class="co">#           The number of bootstrap iterations to run</span></span>
<span id="cb18-8"><a href=""></a><span class="bu">export</span> <span class="va">BOOT_ITER</span><span class="op">=</span><span class="st">"</span><span class="va">${BOOT_ITER</span><span class="op">:-</span>10000<span class="va">}</span><span class="st">"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="downloading-the-image" class="slide level2">
<h2>Downloading the image</h2>
<p>The following downloads the image to the location <code>$R_IMAGE</code>, unless it exists already (which <code>||</code> allows):</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode numberSource sh number-lines code-with-copy"><code class="sourceCode bash"><span id="cb19-1"><a href=""></a><span class="ex">apptainer</span> pull <span class="at">--disable-cache</span> <span class="dt">\</span></span>
<span id="cb19-2"><a href=""></a>  <span class="st">"</span><span class="va">$R_IMAGE</span><span class="st">"</span> docker://r-base:latest <span class="dv">2</span><span class="op">&gt;</span>/dev/null <span class="dt">\</span></span>
<span id="cb19-3"><a href=""></a>    <span class="kw">||</span> <span class="bu">echo</span> <span class="st">"Image already exists. Continuing."</span> <span class="op">&gt;&amp;</span><span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="running-the-jobs" class="slide level2">
<h2>Running the jobs</h2>
<p>Here, we launch a job for each category we want to compute on:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode numberSource sh number-lines code-with-copy"><code class="sourceCode bash"><span id="cb20-1"><a href=""></a><span class="cf">for</span> x <span class="kw">in</span> <span class="st">"agree"</span> <span class="st">"conscientious"</span> <span class="st">"extraversion"</span>  <span class="st">"neuroticism"</span> <span class="st">"openness"</span><span class="kw">;</span> <span class="cf">do</span></span>
<span id="cb20-2"><a href=""></a>  <span class="bu">echo</span> <span class="st">"Launching job for </span><span class="va">$x</span><span class="st">"</span> <span class="op">&gt;&amp;</span><span class="dv">2</span></span>
<span id="cb20-3"><a href=""></a>  <span class="ex">srun</span> <span class="at">-N1</span> <span class="at">-n1</span> <span class="at">--exclusive</span> <span class="dt">\</span></span>
<span id="cb20-4"><a href=""></a>    apptainer exec <span class="dt">\</span></span>
<span id="cb20-5"><a href=""></a>      <span class="at">--bind</span> /gscratch <span class="dt">\</span></span>
<span id="cb20-6"><a href=""></a>      <span class="st">"</span><span class="va">$R_IMAGE</span><span class="st">"</span> <span class="dt">\</span></span>
<span id="cb20-7"><a href=""></a>      Rscript split-job.R ../data/psych_bfi_scored.csv <span class="st">"</span><span class="va">$x</span><span class="st">"</span> <span class="kw">&amp;</span></span>
<span id="cb20-8"><a href=""></a><span class="cf">done</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="combining-the-output" class="slide level2">
<h2>Combining the output</h2>
<p>Once the job is done, we need to assemble the output. We have a separate script for that – <code>merge-outputs.R</code>:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode numberSource sh number-lines code-with-copy"><code class="sourceCode bash"><span id="cb21-1"><a href=""></a><span class="ex">srun</span> <span class="at">-N1</span> <span class="at">-n1</span> <span class="at">--exclusive</span> <span class="dt">\</span></span>
<span id="cb21-2"><a href=""></a>  apptainer exec <span class="dt">\</span></span>
<span id="cb21-3"><a href=""></a>    <span class="at">--bind</span> /gscratch <span class="dt">\</span></span>
<span id="cb21-4"><a href=""></a>    <span class="st">"</span><span class="va">$R_IMAGE</span><span class="st">"</span> <span class="dt">\</span></span>
<span id="cb21-5"><a href=""></a>    Rscript merge-outputs.R output/combined.csv output/<span class="pp">*</span>.csv</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="submitting-the-job" class="slide level2">
<h2>Submitting the job</h2>
<p>Navigate to the <code>workshop-01-R</code> directory if you’re not already there:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb22-1"><a href=""></a><span class="bu">cd</span> /gscratch/scrubbed/<span class="va">$USER</span>/hpc-workshop/workshop-01-R</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Submit an array job to SLURM using the <code>sbatch</code> command, using the <code>ckpt</code> paritition:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb23-1"><a href=""></a><span class="ex">sbatch</span> <span class="at">--account</span> escience <span class="at">--partition</span> ckpt sbatch.job</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="monitoring-the-job" class="slide level2">
<h2>Monitoring the job</h2>
<p>As usual, you can use the <code>squeue</code> command to monitor the status of your job:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb24-1"><a href=""></a><span class="ex">squeue</span> <span class="at">--me</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>But there’s another way you can track progress in real time…</p>
</section>
<section id="log-files" class="slide level2">
<h2>Log files</h2>
<ul>
<li><code>sbatch-r.job</code> specifies a location for the output files and the log files for the array job</li>
<li>Files with the extension <code>.log</code> contain what the job would print to the screen</li>
<li>Read log files to track the progress of the individual jobs in the array with <code>tail -f</code>:</li>
</ul>
<div class="sourceCode" id="cb25"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb25-1"><a href=""></a><span class="fu">tail</span> <span class="at">-f</span> job.log</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Press <code>Ctrl</code> + <code>D</code> to stop following the log files.</p>
</section>
<section id="getting-the-results" class="slide level2">
<h2>Getting the results</h2>
<p>Use <code>scp</code> to copy the results from the cluster to your local machine:</p>
<p><code>scp -r your-uw-netid@klone.hyak.uw.edu:/gscratch/scrubbed/your-uw-netid/hpc-workshop/workshop-01/output/combined.csv .</code></p>
</section>
<section id="qa" class="slide level2">
<h2>Q&amp;A</h2>
<p>Questions?</p>
</section>
<section id="more-resources-1" class="slide level2">
<h2>More resources</h2>
<ul>
<li><a href="https://uw-psych.github.io/compute_docs" class="uri">https://uw-psych.github.io/compute_docs</a></li>
<li><a href="https://hyak.uw.edu/docs" class="uri">https://hyak.uw.edu/docs</a></li>
<li><a href="https://www.hpc-carpentry.org" class="uri">https://www.hpc-carpentry.org</a></li>
</ul>
<div class="quarto-auto-generated-content">
<div class="footer footer-default">

</div>
</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="pres_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="pres_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="pres_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="pres_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="pres_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="pres_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="pres_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="pres_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="pres_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="pres_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>